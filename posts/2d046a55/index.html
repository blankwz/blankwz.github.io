<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Web生产环境快捷搭建-宝塔、LNMP、phpstudy | Gxkon's Blog</title><meta name="description" content="Web生产环境快捷搭建-宝塔、LNMP、phpstudy 几种快捷搭建Web环境的工具  宝塔  LNMP  phpstudy    一、LNMP一键安装包 LNMP一键安装包是一个用Linux Shell编写的可以为  CentOS&#x2F;RHEL&#x2F;Fedora&#x2F;Aliyun&#x2F;Amazon、  Debian&#x2F;Ubuntu&#x2F;Raspbian&#x2F;Deepin&#x2F;Mint Linux VPS  或独立主机安装"><meta name="keywords" content="宝塔"><meta name="author" content="Gkon"><meta name="copyright" content="Gkon"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Web生产环境快捷搭建-宝塔、LNMP、phpstudy"><meta name="twitter:description" content="Web生产环境快捷搭建-宝塔、LNMP、phpstudy 几种快捷搭建Web环境的工具  宝塔  LNMP  phpstudy    一、LNMP一键安装包 LNMP一键安装包是一个用Linux Shell编写的可以为  CentOS&#x2F;RHEL&#x2F;Fedora&#x2F;Aliyun&#x2F;Amazon、  Debian&#x2F;Ubuntu&#x2F;Raspbian&#x2F;Deepin&#x2F;Mint Linux VPS  或独立主机安装"><meta name="twitter:image" content="https://pic-1256641195.cos.ap-nanjing.myqcloud.com/2020/09/bike-riding-5557589_1280.png"><meta property="og:type" content="article"><meta property="og:title" content="Web生产环境快捷搭建-宝塔、LNMP、phpstudy"><meta property="og:url" content="http://gxkon.top/posts/2d046a55/"><meta property="og:site_name" content="Gxkon's Blog"><meta property="og:description" content="Web生产环境快捷搭建-宝塔、LNMP、phpstudy 几种快捷搭建Web环境的工具  宝塔  LNMP  phpstudy    一、LNMP一键安装包 LNMP一键安装包是一个用Linux Shell编写的可以为  CentOS&#x2F;RHEL&#x2F;Fedora&#x2F;Aliyun&#x2F;Amazon、  Debian&#x2F;Ubuntu&#x2F;Raspbian&#x2F;Deepin&#x2F;Mint Linux VPS  或独立主机安装"><meta property="og:image" content="https://pic-1256641195.cos.ap-nanjing.myqcloud.com/2020/09/bike-riding-5557589_1280.png"><meta property="article:published_time" content="2020-09-19T08:22:28.000Z"><meta property="article:modified_time" content="2020-09-29T06:37:29.853Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://gxkon.top/posts/2d046a55/"><link rel="prev" title="Python GUI编程(Tkinter)" href="http://gxkon.top/posts/ffb5fdc7/"><link rel="next" title="Markdown Emoji表情语法速查表" href="http://gxkon.top/posts/a927e90e/"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5/js/md5.min.js"></script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: {"text":"本人,超帅,打钱","fontSize":"15px"},
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/Pic/avatar.png" onerror="onerror=null;src='/Pic/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">95</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">64</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">44</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于我</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 娱乐</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Web生产环境快捷搭建-宝塔、LNMP、phpstudy"><span class="toc-text">Web生产环境快捷搭建-宝塔、LNMP、phpstudy</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、LNMP一键安装包"><span class="toc-text">一、LNMP一键安装包</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-基本库安装"><span class="toc-text">1. 基本库安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#yum或者apt-get"><span class="toc-text">yum或者apt-get</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#wget"><span class="toc-text">wget</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#screen-建议！"><span class="toc-text">screen - 建议！</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-安装"><span class="toc-text">2. 安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#仅安装数据库、Nginx"><span class="toc-text">仅安装数据库、Nginx</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-自定义参数安装"><span class="toc-text">3. 自定义参数安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-安装过程"><span class="toc-text">4. 安装过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-LNMP状态管理命令"><span class="toc-text">5. LNMP状态管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#LNMP状态管理命令："><span class="toc-text">LNMP状态管理命令：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LNMPA状态管理命令："><span class="toc-text">LNMPA状态管理命令：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LAMP状态管理命令："><span class="toc-text">LAMP状态管理命令：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-设置虚拟主机"><span class="toc-text">6. 设置虚拟主机</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#其他常用命令"><span class="toc-text">其他常用命令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-问题"><span class="toc-text">7. 问题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#FTP进不去"><span class="toc-text">FTP进不去</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、宝塔-推荐！"><span class="toc-text">二、宝塔 - 推荐！</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、Linux面板安装"><span class="toc-text">1、Linux面板安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、面板管理常用命令"><span class="toc-text">3、面板管理常用命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、phpstudy"><span class="toc-text">三、phpstudy</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://pic-1256641195.cos.ap-nanjing.myqcloud.com/2020/09/bike-riding-5557589_1280.png)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Gxkon's Blog</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于我</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 娱乐</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">Web生产环境快捷搭建-宝塔、LNMP、phpstudy</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2020-09-19 16:22:28"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2020-09-19</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-09-29 14:37:29"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-09-29</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E5%BC%80%E5%8F%91%E5%BF%85%E4%BC%9A/">开发必会</a><i class="fa fa-angle-right post-meta__separator" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E5%BC%80%E5%8F%91%E5%BF%85%E4%BC%9A/%E7%8E%AF%E5%A2%83/">环境</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-comment-o" aria-hidden="true"></i><span>评论数:</span><a href="/posts/2d046a55/#post-comment"><span class="gitalk-comment-count comment-count"></span></a></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="Web生产环境快捷搭建-宝塔、LNMP、phpstudy"><a href="#Web生产环境快捷搭建-宝塔、LNMP、phpstudy" class="headerlink" title="Web生产环境快捷搭建-宝塔、LNMP、phpstudy"></a>Web生产环境快捷搭建-宝塔、LNMP、phpstudy</h1><blockquote>
<p>几种快捷搭建Web环境的工具</p>
<ul>
<li><p>宝塔</p>
</li>
<li><p>LNMP</p>
</li>
<li><p>phpstudy</p>
</li>
</ul>
</blockquote>
<h2 id="一、LNMP一键安装包"><a href="#一、LNMP一键安装包" class="headerlink" title="一、LNMP一键安装包"></a>一、LNMP一键安装包</h2><blockquote>
<p>LNMP一键安装包是一个用Linux Shell编写的可以为</p>
<ul>
<li><p>CentOS/RHEL/Fedora/Aliyun/Amazon、</p>
</li>
<li><p>Debian/Ubuntu/Raspbian/Deepin/Mint Linux VPS</p>
</li>
<li><p>或独立主机安装</p>
</li>
<li><p>LNMP(<code>Nginx/MySQL/PHP</code>)、</p>
</li>
<li><p>LNMPA(<code>Nginx/MySQL/PHP/Apache</code>)、</p>
</li>
<li><p>LAMP(<code>Apache/MySQL/PHP</code>)生产环境的Shell程序。</p>
</li>
</ul>
<p>点击查看 <a href="https://lnmp.org/" target="_blank" rel="noopener">官网</a></p>
</blockquote>
<p><strong>官方安装说明</strong>：<a href="https://lnmp.org/install.html" target="_blank" rel="noopener">点击查看</a></p>
<h3 id="1-基本库安装"><a href="#1-基本库安装" class="headerlink" title="1. 基本库安装"></a>1. 基本库安装</h3><h4 id="yum或者apt-get"><a href="#yum或者apt-get" class="headerlink" title="yum或者apt-get"></a>yum或者apt-get</h4><p><code>Centos系统</code>：</p>
<ul>
<li><code>yum update</code>  </li>
<li><code>yum install git -y</code></li>
</ul>
<p><code>Ubuntu/Debian系统</code>：</p>
<ul>
<li><code>apt-get update</code></li>
<li><code>apt-get install git -y</code></li>
</ul>
<h4 id="wget"><a href="#wget" class="headerlink" title="wget"></a>wget</h4><ul>
<li><p><code>yum install wget</code> </p>
</li>
<li><p><code>apt-get install wget</code> </p>
</li>
</ul>
<h4 id="screen-建议！"><a href="#screen-建议！" class="headerlink" title="screen - 建议！"></a>screen - 建议！</h4><blockquote>
<p>当通过putty或者SecureCRT安装lnmp时，网络突然掉线或者不小心putty被关掉等等原因，造成lnmp安装过程被中断怎么办，其实防止这种现象很简单，只要在安装lnmp前执行screen命令就可以了</p>
</blockquote>
<p><strong>安装screen</strong></p>
<ul>
<li><p><code>yum install screen</code> </p>
</li>
<li><p><code>apt-get install screen</code></p>
</li>
</ul>
<p><strong>安装lnmp</strong></p>
<ol>
<li><p>先执行：<code>screen -S lnmp</code> 创建screen会话</p>
</li>
<li><p>再执行lnmp安装命令：看下面教程</p>
</li>
</ol>
<p><strong>如果网络掉线，可以重新连接SSH，再执行 screen -r lnmp 就会看到你的lnmp安装进程。</strong></p>
<p><strong>有时候screen异常退出可能会提示状态为Attached，可以执行：screen -D -r lnmp 进行恢复。</strong></p>
<p><strong>有时候可能会创建了多个同名的screen会话，可以执行：screen -ls 查看对应会话的session id，然后使用screen -D -r sessionid 进行恢复</strong></p>
<h3 id="2-安装"><a href="#2-安装" class="headerlink" title="2. 安装"></a>2. 安装</h3><blockquote>
<p>如需无人值守安装，请使用 <a href="https://lnmp.org/auto.html" target="_blank" rel="noopener">无人值守命令生成工具</a>，或<a href="https://lnmp.org/faq/v1-5-auto-install.html" target="_blank" rel="noopener">查看无人值守说明教程</a></p>
</blockquote>
<ul>
<li><code>lnmp</code>：<strong><code>wget http://soft.vpser.net/lnmp/lnmp1.7.tar.gz -cO lnmp1.7.tar.gz &amp;&amp; tar zxf lnmp1.7.tar.gz &amp;&amp; cd lnmp1.7 &amp;&amp; ./install.sh lnmp</code></strong></li>
<li><code>lnmpa</code>：<strong><code>wget http://soft.vpser.net/lnmp/lnmp1.7.tar.gz -cO lnmp1.7.tar.gz &amp;&amp; tar zxf lnmp1.7.tar.gz &amp;&amp; cd lnmp1.7 &amp;&amp; ./install.sh lnmpa</code></strong></li>
<li><code>lamp</code>：<strong><code>wget http://soft.vpser.net/lnmp/lnmp1.7.tar.gz -cO lnmp1.7.tar.gz &amp;&amp; tar zxf lnmp1.7.tar.gz &amp;&amp; cd lnmp1.7 &amp;&amp; ./install.sh lamp</code></strong></li>
</ul>
<p>这三条的区别在最后</p>
<h4 id="仅安装数据库、Nginx"><a href="#仅安装数据库、Nginx" class="headerlink" title="仅安装数据库、Nginx"></a><strong>仅安装数据库、Nginx</strong></h4><p>lnmp 1.5开始支持只安装MySQL/MariaDB数据库或Nginx<br>增加单独nginx安装，安装包目录下运行：<code>./install.sh nginx</code> 进行安装；<br>增加单独数据库安装，安装包目录下运行：<code>./install.sh db</code> 进行安装；</p>
<h3 id="3-自定义参数安装"><a href="#3-自定义参数安装" class="headerlink" title="3. 自定义参数安装"></a>3. 自定义参数安装</h3><p>如需<strong>更改网站和数据库目录</strong>、<strong>自定义Nginx参数</strong>、<strong>PHP参数模块</strong>、<strong>开启lua</strong>等需在运行./install.sh 命令前修改安装包目录下的 lnmp.conf 文件，详细可以查看<a href="https://lnmp.org/faq/lnmp-software-list.html#lnmp.conf" target="_blank" rel="noopener">lnmp.conf文件参数说明</a>。</p>
<h3 id="4-安装过程"><a href="#4-安装过程" class="headerlink" title="4. 安装过程"></a>4. 安装过程</h3><ol>
<li>运行LNMP安装命令后</li>
<li>输入对应MySQL或MariaDB版本前面的序号，回车进入下一步.<ol>
<li>设置MySQL的root密码（为了安全不输入直接回车将会设置为lnmp.org#随机数字）</li>
<li>如果输入有错误需要删除时，可以按住Ctrl再按Backspace键进行删除(个别情况下是只需要Backspace键)。</li>
<li>输入后回车进入下一步</li>
</ol>
</li>
<li>询问是否需要启用MySQL InnoDB，InnoDB引擎默认为开启<ul>
<li>一般建议开启，直接回车或输入 y ，如果确定确实不需要该引擎可以输入 n，(MySQL 5.7+版本无法关闭InnoDB),输入完成</li>
</ul>
</li>
<li>输入要选择的PHP版本的序号，回车进入下一步</li>
<li>选择是否安装内存优化<ul>
<li>可以选择不安装、Jemalloc或TCmalloc，输入对应序号回车，直接回车为默认为不安装</li>
</ul>
</li>
<li>提示设置邮箱和选择Apache（如果是LNMPA或LAMP）<ul>
<li>“Please enter Administrator Email Address:”，需要设置管理员邮箱，该邮箱会在报错时显示在错误页面上</li>
<li>再选择Apache版本</li>
</ul>
</li>
<li>提示”Press any key to install…or Press Ctrl+c to cancel”后，按回车键确认开始安装</li>
</ol>
<p><strong>安装时间可能会几十分钟到几个小时不等，主要是机器的配置网速等原因会造成影响</strong></p>
<h3 id="5-LNMP状态管理命令"><a href="#5-LNMP状态管理命令" class="headerlink" title="5. LNMP状态管理命令"></a>5. LNMP状态管理命令</h3><h4 id="LNMP状态管理命令："><a href="#LNMP状态管理命令：" class="headerlink" title="LNMP状态管理命令："></a><strong>LNMP状态管理命令：</strong></h4><p>LNMP 1.2+状态管理: <code>lnmp {start|stop|reload|restart|kill|status}</code><br>LNMP 1.2+各个程序状态管理: <code>lnmp {nginx|mysql|mariadb|php-fpm|pureftpd} {start|stop|reload|restart|kill|status}</code><br>LNMP 1.1状态管理： <code>/root/lnmp {start|stop|reload|restart|kill|status}</code><br>Nginx状态管理：<code>/etc/init.d/nginx {start|stop|reload|restart}</code><br>MySQL状态管理：<code>/etc/init.d/mysql {start|stop|restart|reload|force-reload|status}</code><br>Memcached状态管理：<code>/etc/init.d/memcached {start|stop|restart}</code><br>PHP-FPM状态管理：<code>/etc/init.d/php-fpm {start|stop|quit|restart|reload|logrotate}</code><br>PureFTPd状态管理： <code>/etc/init.d/pureftpd {start|stop|restart|kill|status}</code><br>ProFTPd状态管理： <code>/etc/init.d/proftpd {start|stop|restart|reload}</code><br>Redis状态管理： <code>/etc/init.d/redis {start|stop|restart|kill}</code></p>
<p>多PHP版本状态管理：<code>/etc/init.d/php-fpm5.5 {start|stop|quit|restart|reload|logrotate}</code> 前面5.5为对应的PHP版本，其他版本自行替换。</p>
<p>如重启LNMP，1.2+输入命令：<code>lnmp restart</code> 即可；</p>
<p>单独重启mysql：/<code>etc/init.d/mysql restart 也可以 lnmp mysql restart</code> ，两个是一样的。</p>
<h4 id="LNMPA状态管理命令："><a href="#LNMPA状态管理命令：" class="headerlink" title="LNMPA状态管理命令："></a><strong>LNMPA状态管理命令：</strong></h4><p>LNMPA 1.2+状态管理: <code>lnmp {start|stop|reload|restart|kill|status}</code><br>LNMPA 1.2+各个程序状态管理: <code>lnmp {httpd|mysql|mariadb|pureftpd} {start|stop|reload|restart|kill|status}</code><br>LNMPA1.1状态管理： <code>/root/lnmpa {start|stop|reload|restart|kill|status}</code><br>Nginx状态管理：<code>/etc/init.d/nginx {start|stop|reload|restart}</code><br>MySQL状态管理：<code>/etc/init.d/mysql {start|stop|restart|reload|force-reload|status}</code><br>Memcached状态管理：<code>/etc/init.d/memcached {start|stop|restart}</code><br>PureFTPd状态管理： <code>/etc/init.d/pureftpd {start|stop|restart|kill|status}</code><br>ProFTPd状态管理： <code>/etc/init.d/proftpd {start|stop|restart|reload}</code><br>Apache状态管理：<code>/etc/init.d/httpd {start|stop|restart|graceful|graceful-stop|configtest|status}</code></p>
<h4 id="LAMP状态管理命令："><a href="#LAMP状态管理命令：" class="headerlink" title="LAMP状态管理命令："></a><strong>LAMP状态管理命令：</strong></h4><p>LAMP 1.2+状态管理: <code>lnmp {start|stop|reload|restart|kill|status}</code><br>LAMP 1.2+各个程序状态管理: <code>lnmp {httpd|mysql|mariadb|pureftpd} {start|stop|reload|restart|kill|status}</code></p>
<h3 id="6-设置虚拟主机"><a href="#6-设置虚拟主机" class="headerlink" title="6. 设置虚拟主机"></a>6. <strong>设置虚拟主机</strong></h3><p><a href="https://lnmp.org/faq/lnmp-vhost-add-howto.html" target="_blank" rel="noopener">详细步骤教程</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">1、 执行：lnmp vhost add   输入要添加网站的域名</span><br><span class="line">www.vpser.net     vpser.net  （ 多个域名空格隔开， 如不需要绑其他域名就直接回车）</span><br><span class="line">(注：带www和不带www的是不同的域名，如需带www和不带的www的域名都访问同一个网站需要同时都绑定)。</span><br><span class="line"></span><br><span class="line">2、设置网站的目录</span><br><span class="line">网站目录不存在的话会创建目录。也可以输入已经存在的目录或要设置的目录（注意如要输入必须是全路径即以/开头的完整路径！！！）。</span><br><span class="line">不输入直接回车的话，采用默认目录：/home/wwwroot/域名</span><br><span class="line"></span><br><span class="line">3、伪静态 (注意LNMPA或LAMP模式没有该选择项！)</span><br><span class="line">如启用输入 y ，不启用输入 n</span><br><span class="line"></span><br><span class="line">4、输入你要的伪静态名称</span><br><span class="line">默认已经有了discuz、discuzx、discuzx2(Discuz X二级目录)、wordpress、wp2(WordPress二级目录)、</span><br><span class="line">typecho、typecho2(Typecho二级目录)、sablog、emlog、dabr、phpwind、、dedecms、drupal、ecshop、shopex等常用的Nginx伪静态配置文件，</span><br><span class="line">可以直接输入名称进行使用，如果是二级目录则需要对应配置文件里的二级目录的名称</span><br><span class="line"></span><br><span class="line">5、设置日志，如启用日志输入 y ，不启用输入 n 回车</span><br><span class="line">如果启用，需要再输入要设置的日志的名称</span><br><span class="line">默认日志目录为：/home/wwwlogs/</span><br><span class="line">默认文件名为：域名.<span class="built_in">log</span></span><br><span class="line"></span><br><span class="line">6、是否添加数据库和数据库用户</span><br><span class="line">如果要添加，需要先验证MySQL的root密码(注：输入密码将不显示)</span><br><span class="line">提示Enter database name: 后输入要创建的数据库名称，要创建的数据库用户名会和数据库同名，回车确认</span><br><span class="line">提示Please enter password <span class="keyword">for</span> mysql user 数据库名: 后输入要设置的密码，回车确认。</span><br><span class="line"></span><br><span class="line">7、如果安装了FTP服务器会询问是否添加FTP账号，（安装FTP教程    https://lnmp.org/faq/ftpserver.html）</span><br><span class="line">提示Enter ftp account name: 后输入要创建的FTP账号名称，回车确认。</span><br><span class="line">提示Enter password <span class="keyword">for</span> ftp account FTP账号: 后输入要设置的密码，回车确认。</span><br><span class="line"></span><br><span class="line">8、添加SSL功能</span><br><span class="line">选择了添加SSL会提示两个选项：</span><br><span class="line">1 选项为使用自己准备好的SSL证书和key。</span><br><span class="line">2 选项为使用免费SSL证书提供商Letsencrypt的证书，自动生成SSL证书等信息。（需要输入一个邮箱回车确认）</span><br><span class="line"></span><br><span class="line">9、提示 Press any key to start create virtul host... 后，回车确认便会开始创建虚拟主机。</span><br><span class="line">添加成功会提示添加的域名、目录、伪静态、日志、数据库、FTP等相关信息</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>伪静态管理，</strong>看详细教程</li>
<li>*<em>列出网站(虚拟主机) *</em>执行：lnmp vhost list</li>
<li><strong>删除网站(虚拟主机)</strong> 执行：lnmp vhost del</li>
</ul>
<h4 id="其他常用命令"><a href="#其他常用命令" class="headerlink" title="其他常用命令"></a>其他常用命令</h4><p>LNMP状态管理：<code>lnmp {start|stop|reload|restart|kill|status}</code><br>LNMP各个程序的状态管理：<code>lnmp {nginx|mysql|mariadb|php-fpm|pureftpd} {start|stop|reload|restart|kill|status}</code><br>虚拟主机管理：<code>lnmp vhost {add|list|del}</code><br>数据库管理：<code>lnmp database {add|list|edit|del}</code><br>FTP用户管理：<code>lnmp ftp {add|list|edit|del|show}</code><br>已存在虚拟主机添加SSL：<code>lnmp ssl add</code><br>通过DNS API方式生成证书并创建虚拟主机：<code>lnmp dns {cx|dp|ali|...}</code><br>只通过DNS API方式生成SSL证书：<code>lnmp onlyssl {cx|dp|ali|...}</code></p>
<h3 id="7-问题"><a href="#7-问题" class="headerlink" title="7. 问题"></a>7. 问题</h3><h4 id="FTP进不去"><a href="#FTP进不去" class="headerlink" title="FTP进不去"></a><strong>FTP进不去</strong></h4><p>两种解决办法：</p>
<p>1）xftp 用密钥方式登陆，（SFTP）用户名：跟你登录 ssh 的一致。密钥：选择你的密钥</p>
<p>2）这个方法不太清楚是否可行，<strong>貌似因为GCP权限有问题，所以只能密钥方式登陆，可能是GCP防火墙问题，暂时我这里没办法修改</strong>修改后重启生效，lnmp pureftpd restart 如果修改的有错误重启时会报错防火墙、安全组之类的都需要allow</p>
<h2 id="二、宝塔-推荐！"><a href="#二、宝塔-推荐！" class="headerlink" title="二、宝塔 - 推荐！"></a>二、宝塔 - 推荐！</h2><p>官网：<a href="https://www.bt.cn/" target="_blank" rel="noopener">查看</a></p>
<p>windows版本直接官网下载即可。</p>
<h3 id="1、Linux面板安装"><a href="#1、Linux面板安装" class="headerlink" title="1、Linux面板安装"></a>1、Linux面板安装</h3><ol>
<li><p>服务器开放需要的端口，比如8888端口</p>
<ol>
<li><a href="https://www.bt.cn/bbs/thread-1229-1-1.html" target="_blank" rel="noopener">腾讯云</a></li>
<li><a href="https://www.bt.cn/bbs/thread-2897-1-1.html" target="_blank" rel="noopener">阿里云</a></li>
<li><a href="https://www.bt.cn/bbs/thread-3923-1-1.html" target="_blank" rel="noopener">华为云</a></li>
</ol>
</li>
<li><p>挂载磁盘 （已经挂载了的可以不用挂载)</p>
<ul>
<li>Centos：<code>yum install wget -y &amp;&amp; wget -O auto_disk.sh http://download.bt.cn/tools/auto_disk.sh &amp;&amp; bash auto_disk.sh</code></li>
<li>Ubuntu ：<code>wget -O auto_disk.sh http://download.bt.cn/tools/auto_disk.sh &amp;&amp; sudo bash auto_disk.sh</code></li>
</ul>
</li>
<li><p>安装命令</p>
<ol>
<li><strong>Centos安装命令</strong>：<code>yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh</code></li>
<li><strong>Ubuntu/Deepin安装命令</strong>：<code>wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; sudo bash install.sh</code></li>
</ol>
</li>
</ol>
<h3 id="3、面板管理常用命令"><a href="#3、面板管理常用命令" class="headerlink" title="3、面板管理常用命令"></a>3、<strong>面板管理常用命令</strong></h3><p><a href="https://www.bt.cn/btcode.html" target="_blank" rel="noopener">更多官方命令</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">宝塔工具箱(包含下列绝大部分功能 直接ssh中执行bt命令 仅限6.x以上版本面板)</span><br><span class="line">bt</span><br><span class="line">停止</span><br><span class="line">&#x2F;etc&#x2F;init.d&#x2F;bt stop</span><br><span class="line">启动</span><br><span class="line">&#x2F;etc&#x2F;init.d&#x2F;bt start</span><br><span class="line">重启</span><br><span class="line">&#x2F;etc&#x2F;init.d&#x2F;bt restart</span><br><span class="line">卸载</span><br><span class="line">&#x2F;etc&#x2F;init.d&#x2F;bt stop &amp;&amp; chkconfig --del bt &amp;&amp; rm -f &#x2F;etc&#x2F;init.d&#x2F;bt &amp;&amp; rm -rf &#x2F;www&#x2F;server&#x2F;panel</span><br><span class="line"></span><br><span class="line"># 修改面板端口，如要改成8881（centos 6 系统）</span><br><span class="line">echo &#39;8881&#39; &gt; &#x2F;www&#x2F;server&#x2F;panel&#x2F;data&#x2F;port.pl &amp;&amp; &#x2F;etc&#x2F;init.d&#x2F;bt restart</span><br><span class="line"></span><br><span class="line">修改面板密码，如要改成123456</span><br><span class="line">cd &#x2F;www&#x2F;server&#x2F;panel &amp;&amp; python tools.py panel 123456</span><br></pre></td></tr></table></figure>

<h2 id="三、phpstudy"><a href="#三、phpstudy" class="headerlink" title="三、phpstudy"></a>三、phpstudy</h2><blockquote>
<p> <a href="https://www.xp.cn/" target="_blank" rel="noopener">官网下载</a>  - 支持Windows，Linux</p>
<p> 一个PHP调试环境的程序集成包。该程序包集成最新的<code>Apache+PHP+MySQL+phpMyAdmin+ZendOptimizer</code>，一次性安装，无须配置即可使用</p>
<p>支持CentOS、Ubuntu、Debian、Fedora、deepin)，Web端管理，QQ群及论坛技术支持 一键创建网站、FTP、数据库、SSL；安全管理，计划任务，文件管理，PHP多版本共存及切换；自带LNMP与LAMP8</p>
</blockquote>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Gkon</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://gxkon.top/posts/2d046a55/">http://gxkon.top/posts/2d046a55/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://gxkon.top" target="_blank">Gxkon's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%AE%9D%E5%A1%94/">宝塔</a></div><div class="post_share"><div class="social-share" data-image="https://pic-1256641195.cos.ap-nanjing.myqcloud.com/2020/06/landscape-5282895_1280.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/posts/ffb5fdc7/"><img class="prev_cover" data-src="https://pic-1256641195.cos.ap-nanjing.myqcloud.com/2020/09/night-4011992_1280.jpg" onerror="onerror=null;src='/Pic/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Python GUI编程(Tkinter)</div></div></a></div><div class="next-post pull_right"><a href="/posts/a927e90e/"><img class="next_cover" data-src="https://pic-1256641195.cos.ap-nanjing.myqcloud.com/2020/09/cathedral-5590968_1280.jpg" onerror="onerror=null;src='/Pic/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Markdown Emoji表情语法速查表</div></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '1ce3148e3133bf004c96',
  clientSecret: '2a1e5c0f4d38387460b916843bfe5cac67ef2d07',
  repo: 'blankwz.github.io',
  owner: 'blankwz',
  admin: ['blankwz'],
  id: md5(decodeURI(location.pathname)),
  language: 'zh-CN',
  perPage: 10,
  distractionFreeMode: false,
  pagerDirection: 'last',
  createIssueManually: false,
  updateCountCallback: commentCount
})
gitalk.render('gitalk-container')

function commentCount(n){
  try {
    document.getElementsByClassName('gitalk-comment-count')[0].innerHTML= n
  } catch (e) {
    return false
  }
}</script></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By Gkon</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">簡</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@3/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script src="/js/third-party/ClickShowText.js"></script></body></html>